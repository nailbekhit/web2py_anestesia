__author__ = 'Mohamed'
import sys
import json
import cgi

def gerar_campos_busca():
    campos = FORM(
        DIV(_id='div_campos_busca_geral',
            *FIELDSET(
                LEGEND(_id='lgd_campos_busca_geral',
                       *'BUSCA'),
                INPUT(_type='radio', _id='chk_busca_1', _name='chk_busca'),
                'Nome: ',
                INPUT(_type='text', _id='nome_busca', _name='nome_busca'),
                BR(),
                INPUT(_type='radio', _id='chk_busca_2', _name='chk_busca'),
                'Nr Registro: ',
                INPUT(_type='text', _id='nr_registro_busca', _name='nr_registro_busca'),
                BR(),
                BR(),
                INPUT(_type='submit', _value='BUSCAR', _id='btn_buscar'),
                INPUT(_type='hidden', _id='campo_hidden_escolha_busca', _name='campo_hidden_escolha_busca'),
                INPUT(_type='hidden', _id='campo_hidden_id_busca', _name='campo_hidden_id_busca')
            )
        )
    )
    return campos


def consulta_nome(nome):
    linhas = db(db.paciente.nome.like('%' + nome + '%')).select()
    return linhas


def consulta_registro(registro):
    linhas = db(db.paciente.nr_registro == registro).select()
    return linhas


def conta_consulta(dado, selecao):
    nr_linhas = ''
    query = ''
    if selecao == 1:
        query = (db.paciente.nome == dado)
        nr_linhas = db(query).count()
    elif selecao == 2:
        query = (db.paciente.nr_registro == dado)
        nr_linhas = db(query).count()
    return nr_linhas

def carrega_dados():
    query = db(db.paciente.id == request.vars.id).select()
    for dados in query:
        campos = FORM(
            DIV(_id='div_geral',
                *DIV(
                    DIV(
                        FIELDSET(
                            LEGEND(_id='carregar_lgd_dados_gerais',
                                   *'DADOS GERAIS'
                            ),
                            'Nr Registro:',
                            INPUT(_type='hidden', _id='carregar_hidden_nr_registro', _name='carregar_hidden_nr_registro', _value=dados.nr_registro),
                            INPUT(_id='carregar_nr_registro', _name='carregar_nr_registro', _value=dados.nr_registro),
                            'Matricula HUGG:',
                            INPUT(_type='hidden', _id='carregar_hidden_matricula_hugg', _name='carregar_hidden_matricula_hugg', _value=dados.matricula_hugg),
                            INPUT(_id='carregar_matricula_hugg', _name='carregar_matricula_hugg', _value=dados.matricula_hugg),
                            BR(),
                            'Nome: ',
                            INPUT(_type='hidden', _id='carregar_hidden_nome', _name='carregar_hidden_nome', _value=dados.nome),
                            INPUT(_id='carregar_nome', _name='carregar_nome', _value=dados.nome),
                            'Data: ',
                            INPUT(_type='hidden', _id='carregar_hidden_data', _name='carregar_hidden_data', _value=dados.data),
                            INPUT(_id='carregar_data', _name='carregar_data', _value=dados.data),
                            'Ficha Nr: ',
                            INPUT(_type='hidden', _id='carregar_hidden_ficha_nr', _name='carregar_hidden_ficha_nr', _value=dados.ficha_nr),
                            INPUT(_id='carregar_ficha_nr', _name='carregar_ficha_nr', _value=dados.ficha_nr),
                            BR(),
                            'Enf:',
                            INPUT(_type='hidden', _id='carregar_hidden_enfermaria', _name='carregar_hidden_enfermaria', _value=dados.enfermaria),
                            INPUT(_id='carregar_enfermaria', _name='carregar_enfermaria', _value=dados.enfermaria),
                            'Leito:',
                            INPUT(_type='hidden', _id='carregar_hidden_leito', _name='carregar_hidden_leito', _value=dados.leito),
                            INPUT(_id='carregar_leito', _name='carregar_leito', _value=dados.leito),
                            BR(),
                            'Idade:',
                            INPUT(_type='hidden', _id='carregar_hidden_idade', _name='carregar_hidden_idade', _value=dados.idade),
                            INPUT(_id='carregar_idade', _name='carregar_idade', _value=dados.idade),
                            'ASA:',
                            INPUT(_type='hidden', _id='carregar_hidden_asa', _name='carregar_hidden_asa', _value=dados.asa),
                            INPUT(_id='carregar_asa', _name='carregar_asa', _value=dados.asa),
                            'Clinica:',
                            INPUT(_type='hidden', _id='carregar_hidden_clinica', _name='carregar_hidden_clinica', _value=dados.clinica),
                            INPUT(_id='carregar_clinica', _name='carregar_clinica', _value=dados.clinica),
                            'SO:',
                            INPUT(_type='hidden', _id='carregar_hidden_so', _name='carregar_hidden_so', _value=dados.so),
                            INPUT(_id='carregar_so', _name='carregar_so', _value=dados.so),
                            DIV(_id='carregar_div_e',
                                *FIELDSET(
                                    'E:',
                                    INPUT(_type='hidden', _id='carregar_hidden_e', _name='carregar_hidden_e', _value=dados.dados_cadastrais_e),
                                    INPUT(_id='carregar_radio_dados_cadastrais_e_sim',
                                          _type='radio',
                                          _name='carregar_dados_cadastrais_e',
                                          _value='T'),
                                    'sim',
                                    INPUT(_id='carregar_radio_dados_cadastrais_e_nao',
                                          _type='radio',
                                          _name='carregar_dados_cadastrais_e',
                                          _value='F'),
                                    'não',
                                )
                            ),
                            'Sexo:',
                            INPUT(_type='hidden', _id='carregar_hidden_sexo', _name='carregar_hidden_sexo', _value=dados.dados_cadastrais_sexo),
                            INPUT(_id='carregar_radio_sexo_f',
                                  _type='radio',
                                  _name='carregar_dados_cadastrais_sexo',
                                  _value='F'),
                            'F',

                            INPUT(_id='carregar_radio_sexo_m',
                                  _type='radio',
                                  _name='carregar_dados_cadastrais_sexo',
                                  _value='M'),
                            'M',

                            BR(),
                            'Altura:',
                            INPUT(_type='hidden', _id='carregar_hidden_altura', _name='carregar_hidden_altura', _value=dados.altura),
                            INPUT(_id='carregar_altura', _name='carregar_altura', _value=dados.altura),
                            'Peso:',
                            INPUT(_type='hidden', _id='carregar_hidden_peso', _name='carregar_hidden_peso', _value=dados.peso),
                            INPUT(_id='carregar_peso', _name='carregar_peso', _value=dados.peso),
                            'Temp:',
                            INPUT(_type='hidden', _id='carregar_hidden_temperatura', _name='carregar_hidden_temperatura', _value=dados.temperatura),
                            INPUT(_id='carregar_temperatura', _name='carregar_temperatura', _value=dados.temperatura),
                            'Pulso:',
                            INPUT(_type='hidden', _id='carregar_hidden_pulso', _name='carregar_hidden_pulso', _value=dados.pulso),
                            INPUT(_id='carregar_pulso', _name='carregar_pulso', _value=dados.pulso),
                            'Resp.:',
                            INPUT(_type='hidden', _id='carregar_hidden_respiracao', _name='carregar_hidden_respiracao', _value=dados.respiracao),
                            INPUT(_id='carregar_respiracao', _name='carregar_respiracao', _value=dados.respiracao),
                            'PA:',
                            INPUT(_type='hidden', _id='carregar_hidden_pa', _name='carregar_hidden_pa', _value=dados.pa),
                            INPUT(_id='carregar_pa', _name='carregar_pa', _value=dados.pa),
                            HR(),
                            'Diagnóstico',
                            INPUT(_type='hidden', _id='carregar_hidden_diagnostico', _name='carregar_hidden_diagnostico', _value=dados.diagnostico),
                            INPUT(_type='text', _id='carregar_diagnostico', _name='carregar_diagnostico', _value=dados.diagnostico),
                            'Cirurgia',
                            INPUT(_type='hidden', _id='carregar_hidden_dados_cirurgia_anterior', _name='carregar_hidden_dados_cirurgia_anterior', _value=dados.dados_cirurgia_anterior),
                            INPUT(_type='text', _id='carregar_dados_cirurgia_anterior', _name='carregar_dados_cirurgia_anterior', _value=dados.dados_cirurgia_anterior),
                            HR(),
                            DIV(_id='carregar_div_respiratorio',
                                *FIELDSET(
                                    LEGEND('RESPIRATÓRIO',
                                           _id='carregar_lgd_respiratorio'),
                                    TABLE(
                                        TR(
                                            TD(
                                                'Tabagismo',
                                                INPUT(_type='hidden', _id='carregar_hidden_tabagismo', _name='carregar_hidden_tabagismo', _value=dados.tabagismo),
                                                INPUT(_id='carregar_radio_tabag_sim',
                                                      _type='radio',
                                                      _name='carregar_tabagismo',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_tabag_nao',
                                                      _type='radio',
                                                      _name='carregar_tabagismo',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Asma',
                                                INPUT(_type='hidden', _id='carregar_hidden_asma', _name='carregar_hidden_asma', _value=dados.asma),
                                                INPUT(_id='carregar_radio_asma_sim',
                                                      _type='radio',
                                                      _name='carregar_asma',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_asma_nao',
                                                      _type='radio',
                                                      _name='carregar_asma',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Tosse / Expectoração',
                                                INPUT(_type='hidden', _id='carregar_hidden_tosse', _name='carregar_hidden_tosse', _value=dados.tosse),
                                                INPUT(_id='carregar_radio_tosse_sim',
                                                      _type='radio',
                                                      _name='carregar_tosse',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_tosse_nao',
                                                      _type='radio',
                                                      _name='carregar_tosse',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'DPOC / Bronquiectasia',
                                                INPUT(_type='hidden', _id='carregar_hidden_dpoc', _name='carregar_hidden_dpoc', _value=dados.dpoc),
                                                INPUT(_id='carregar_radio_dpoc_sim',
                                                      _type='radio',
                                                      _name='carregar_dpoc',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_dpoc_nao',
                                                      _type='radio',
                                                      _name='carregar_dpoc',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'BK/Insuf. Respiratória',
                                                INPUT(_type='hidden', _id='carregar_hidden_bk_insuficiencia', _name='carregar_hidden_bk_insuficiencia', _value=dados.bk_insuficiencia),
                                                INPUT(_id='carregar_radio_bk_sim',
                                                      _type='radio',
                                                      _name='carregar_bk_insuficiencia',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_bk_nao',
                                                      _type='radio',
                                                      _name='carregar_bk_insuficiencia',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Derrame pleural / Emplema',
                                                INPUT(_type='hidden', _id='carregar_hidden_derrame_pleural', _name='carregar_hidden_derrame_pleural', _value=dados.derrame_pleural),
                                                INPUT(_id='carregar_radio_der_pleural_sim',
                                                      _type='radio',
                                                      _name='carregar_derrame_pleural',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_der_pleural_nao',
                                                      _type='radio',
                                                      _name='carregar_derrame_pleural',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Cir. Torácica',
                                                INPUT(_type='hidden', _id='carregar_hidden_circunferencia_toraxica', _name='carregar_hidden_circunferencia_toraxica', _value=dados.circunferencia_toraxica),
                                                INPUT(_id='carregar_radio_circ_tor_sim',
                                                      _type='radio',
                                                      _name='carregar_circunferencia_toraxica',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_circ_tor_nao',
                                                      _type='radio',
                                                      _name='carregar_circunferencia_toraxica',
                                                      _value='F'),
                                                'não',
                                            )
                                        )
                                    )
                                )
                            ),
                            DIV(_id='carregar_div_cardiovascular',
                                *FIELDSET(
                                    LEGEND(_id='carregar_lgd_cardiovascular',
                                           *'CARDIOVASCULAR'),
                                    TABLE(
                                        TR(
                                            TD(
                                                'HAS',
                                                INPUT(_type='hidden', _id='carregar_hidden_has', _name='carregar_hidden_has', _value=dados.has),
                                                INPUT(_id='carregar_radio_has_sim',
                                                      _type='radio',
                                                      _name='carregar_has',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_has_nao',
                                                      _type='radio',
                                                      _name='carregar_has',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'ICC',
                                                INPUT(_type='hidden', _id='carregar_hidden_icc', _name='carregar_hidden_icc', _value=dados.icc),
                                                INPUT(_id='carregar_radio_icc_sim',
                                                      _type='radio',
                                                      _name='carregar_icc',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_icc_nao',
                                                      _type='radio',
                                                      _name='carregar_icc',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Anglina',
                                                INPUT(_type='hidden', _id='carregar_hidden_anglina', _name='carregar_hidden_anglina', _value=dados.anglina),
                                                INPUT(_id='carregar_radio_anglina_sim',
                                                      _type='radio',
                                                      _name='carregar_anglina',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_anglina_nao',
                                                      _type='radio',
                                                      _name='carregar_anglina',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'IAM',
                                                INPUT(_type='hidden', _id='carregar_hidden_iam', _name='carregar_hidden_iam', _value=dados.iam),
                                                INPUT(_id='carregar_radio_iam_sim',
                                                      _type='radio',
                                                      _name='carregar_iam',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_iam_nao',
                                                      _type='radio',
                                                      _name='carregar_iam',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Valvulopalla',
                                                INPUT(_type='hidden', _id='carregar_hidden_valvulopalla', _name='carregar_hidden_valvulopalla', _value=dados.valvulopalla),
                                                INPUT(_id='carregar_radio_valvulopalla_sim',
                                                      _type='radio',
                                                      _name='carregar_valvulopalla',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_valvulopalla_nao',
                                                      _type='radio',
                                                      _name='carregar_valvulopalla',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Marcapasso',
                                                INPUT(_type='hidden', _id='carregar_hidden_marcapasso', _name='carregar_hidden_marcapasso', _value=dados.marcapasso),
                                                INPUT(_id='carregar_radio_marcapasso_sim',
                                                      _type='radio',
                                                      _name='carregar_marcapasso',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_marcapasso_nao',
                                                      _type='radio',
                                                      _name='carregar_marcapasso',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Arritmias',
                                                INPUT(_type='hidden', _id='carregar_hidden_arritmias', _name='carregar_hidden_arritmias', _value=dados.arritmias),
                                                INPUT(_id='carregar_radio_arritmias_sim',
                                                      _type='radio',
                                                      _name='carregar_arritmias',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_arritmias_nao',
                                                      _type='radio',
                                                      _name='carregar_arritmias',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Insuf. Venosa',
                                                INPUT(_type='hidden', _id='carregar_hidden_insuf_venosa', _name='carregar_hidden_insuf_venosa', _value=dados.insuf_venosa),
                                                INPUT(_id='carregar_radio_insuf_venosa_sim',
                                                      _type='radio',
                                                      _name='carregar_insuf_venosa',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_insuf_venosa_nao',
                                                      _type='radio',
                                                      _name='carregar_insuf_venosa',
                                                      _value='F'),
                                                'não',
                                            )
                                        )
                                    )
                                )
                            ),
                            BR(),
                            FIELDSET(
                                LEGEND(_id='carregar_lgd_outros',
                                       *'Outros'),
                                DIV(_id='carregar_div_outros_esq',
                                    *TABLE(
                                        TR(
                                            TD(
                                                'Diabetes: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_diabetes', _name='carregar_hidden_diabetes', _value=dados.diabetes),
                                                INPUT(_id='carregar_radio_diabetes_sim',
                                                      _type='radio',
                                                      _name='carregar_diabetes',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_diabetes_nao',
                                                      _type='radio',
                                                      _name='carregar_diabetes',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Hipertireoidismo: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_hipertireoidismo', _name='carregar_hidden_hipertireoidismo', _value=dados.hipertireoidismo),
                                                INPUT(_id='carregar_radio_hipertireoidismo_sim',
                                                      _type='radio',
                                                      _name='carregar_hipertireoidismo',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_hipertireoidismo_nao',
                                                      _type='radio',
                                                      _name='carregar_hipertireoidismo',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Endocrinopalias: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_endocrinopalias', _name='carregar_hidden_endocrinopalias', _value=dados.endocrinopalias),
                                                INPUT(_id='carregar_radio_endocrinopalias_sim',
                                                      _type='radio',
                                                      _name='carregar_endocrinopalias',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_endocrinopalias_nao',
                                                      _type='radio',
                                                      _name='carregar_endocrinopalias',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Cirrose: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_cirrose', _name='carregar_hidden_cirrose', _value=dados.cirrose),
                                                INPUT(_id='carregar_radio_cirrose_sim',
                                                      _type='radio',
                                                      _name='carregar_cirrose',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_cirrose_nao',
                                                      _type='radio',
                                                      _name='carregar_cirrose',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Hepatite A: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_hepatite_a', _name='carregar_hidden_hepatite_a', _value=dados.hepatite_a),
                                                INPUT(_id='carregar_radio_hepa_sim',
                                                      _type='radio',
                                                      _name='carregar_hepatite_a',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_hepa_nao',
                                                      _type='radio',
                                                      _name='carregar_hepatite_a',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Hepatite B: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_hepatite_b', _name='carregar_hidden_hepatite_b', _value=dados.hepatite_b),
                                                INPUT(_id='carregar_radio_hepb_sim',
                                                      _type='radio',
                                                      _name='carregar_hepatite_b',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_hepb_nao',
                                                      _type='radio',
                                                      _name='carregar_hepatite_b',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Hepatite C: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_hepatite_c', _name='carregar_hidden_hepatite_c', _value=dados.hepatite_c),
                                                INPUT(_id='carregar_radio_hepc_sim',
                                                      _type='radio',
                                                      _name='carregar_hepatite_c',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_hepc_nao',
                                                      _type='radio',
                                                      _name='carregar_hepatite_c',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Elilismo: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_elilismo', _name='carregar_hidden_elilismo', _value=dados.elilismo),
                                                INPUT(_id='carregar_radio_elilismo_sim',
                                                      _type='radio',
                                                      _name='carregar_elilismo',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_elilismo_nao',
                                                      _type='radio',
                                                      _name='carregar_elilismo',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'HIV / SIDA: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_hiv', _name='carregar_hidden_hiv', _value=dados.hiv),
                                                INPUT(_id='carregar_radio_hiv_sim',
                                                      _type='radio',
                                                      _name='carregar_hiv',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_hiv_nao',
                                                      _type='radio',
                                                      _name='carregar_hiv',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Infecções Oportunistas: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_infeccoes_oportunistas', _name='carregar_hidden_infeccoes_oportunistas', _value=dados.infeccoes_oportunistas),
                                                INPUT(_id='carregar_radio_inf_opor_sim',
                                                      _type='radio',
                                                      _name='carregar_infeccoes_oportunistas',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_inf_opor_nao',
                                                      _type='radio',
                                                      _name='carregar_infeccoes_oportunistas',
                                                      _value='F'),
                                                'não',
                                            )
                                        ),
                                    )
                                ),
                                DIV(_id='carregar_div_outros_centro',
                                    *TABLE(
                                        *TR(
                                            TD(
                                                TD(
                                                    'Insuf. Renal: ',
                                                    INPUT(_type='hidden', _id='carregar_hidden_insuf_renal', _name='carregar_hidden_insuf_renal', _value=dados.insuf_renal),
                                                    INPUT(_id='carregar_radio_insuf_renal_sim',
                                                          _type='radio',
                                                          _name='carregar_insuf_renal',
                                                          _value='T'),
                                                    'sim',
                                                    INPUT(_id='carregar_radio_insuf_renal_nao',
                                                          _type='radio',
                                                          _name='carregar_insuf_renal',
                                                          _value='F'),
                                                    'não',
                                                    BR(),
                                                    'Hemod. Diálise Peritoneal: ',
                                                    INPUT(_type='hidden', _id='carregar_hidden_hemodialise_peritoneal', _name='carregar_hidden_hemodialise_peritoneal', _value=dados.hemodialise_peritoneal),
                                                    INPUT(_id='carregar_radio_hemod_sim',
                                                          _type='radio',
                                                          _name='carregar_hemodialise_peritoneal',
                                                          _value='T'),
                                                    'sim',
                                                    INPUT(_id='carregar_radio_hemod_nao',
                                                          _type='radio',
                                                          _name='carregar_hemodialise_peritoneal',
                                                          _value='F'),
                                                    'não',
                                                    BR(),
                                                    'Distúrbios Hemorrágicos: ',
                                                    INPUT(_type='hidden', _id='carregar_hidden_disturbios_hemorragicos', _name='carregar_hidden_disturbios_hemorragicos', _value=dados.disturbios_hemorragicos),
                                                    INPUT(_id='carregar_radio_dist_hemo_sim',
                                                          _type='radio',
                                                          _name='carregar_disturbios_hemorragicos',
                                                          _value='T'),
                                                    'sim',
                                                    INPUT(_id='carregar_radio_dist_hemo_nao',
                                                          _type='radio',
                                                          _name='carregar_disturbios_hemorragicos',
                                                          _value='F'),
                                                    'não',
                                                    BR(),
                                                    'AVC Prévio: ',
                                                    INPUT(_type='hidden', _id='carregar_hidden_avc_previo', _name='carregar_hidden_avc_previo', _value=dados.avc_previo),
                                                    INPUT(_id='carregar_radio_avc_previo_sim',
                                                          _type='radio',
                                                          _name='carregar_avc_previo',
                                                          _value='T'),
                                                    'sim',
                                                    INPUT(_id='carregar_radio_avc_previo_nao',
                                                          _type='radio',
                                                          _name='carregar_avc_previo',
                                                          _value='F'),
                                                    'não',
                                                    BR(),
                                                    'D. Psiquiátrica: ',
                                                    INPUT(_type='hidden', _id='carregar_hidden_doencas_psiquiatricas', _name='carregar_hidden_doencas_psiquiatricas', _value=dados.doencas_psiquiatricas),
                                                    INPUT(_id='carregar_radio_d_psi_sim',
                                                          _type='radio',
                                                          _name='carregar_doencas_psiquiatricas',
                                                          _value='T'),
                                                    'sim',
                                                    INPUT(_id='carregar_radio_d_psi_nao',
                                                          _type='radio',
                                                          _name='carregar_doencas_psiquiatrica',
                                                          _value='F'),
                                                    'não',
                                                    BR(),
                                                    'D. Neuromuscular: ',
                                                    INPUT(_type='hidden', _id='carregar_hidden_doencas_neuromuscular', _name='carregar_hidden_doencas_neuromuscular', _value=dados.doencas_neuromuscular),
                                                    INPUT(_id='carregar_radio_d_neuro_musc_sim',
                                                          _type='radio',
                                                          _name='carregar_doencas_neuromuscular',
                                                          _value='T'),
                                                    'sim',
                                                    INPUT(_id='carregar_radio_d_neuro_musc_nao',
                                                          _type='radio',
                                                          _name='carregar_doencas_neuromuscular',
                                                          _value='F'),
                                                    'não',
                                                    BR(),
                                                    'D. Reumática: ',
                                                    INPUT(_type='hidden', _id='carregar_hidden_doencas_reumaticas', _name='carregar_hidden_doencas_reumaticas', _value=dados.doencas_reumaticas),
                                                    INPUT(_id='carregar_radio_d_reuma_sim',
                                                          _type='radio',
                                                          _name='carregar_doencas_reumaticas',
                                                          _value='T'),
                                                    'sim',
                                                    INPUT(_id='carregar_radio_d_reuma_nao',
                                                          _type='radio',
                                                          _name='carregar_doencas_reumaticas',
                                                          _value='F'),
                                                    'não',
                                                    BR(),
                                                    'Alt. Neurológica: ',
                                                    INPUT(_type='hidden', _id='carregar_hidden_alteracao_neurologica', _name='carregar_hidden_alteracao_neurologica', _value=dados.alteracao_neurologica),
                                                    INPUT(_id='carregar_radio_alt_neuro_sim',
                                                          _type='radio',
                                                          _name='carregar_alteracao_neurologica',
                                                          _value='T'),
                                                    'sim',
                                                    INPUT(_id='carregar_radio_alt_neuro_nao',
                                                          _type='radio',
                                                          _name='carregar_alteracao_neurologica',
                                                          _value='F'),
                                                    'não',
                                                    BR(),
                                                    'Hemotransfusão prévia: ',
                                                    INPUT(_type='hidden', _id='carregar_hidden_hemotransfusao_previa', _name='carregar_hidden_hemotransfusao_previa', _value=dados.hemotransfusao_previa),
                                                    INPUT(_id='carregar_radio_hemo_prev_sim',
                                                          _type='radio',
                                                          _name='carregar_hemotransfusao_previa',
                                                          _value='T'),
                                                    'sim',
                                                    INPUT(_id='carregar_radio_hemo_prev_nao',
                                                          _type='radio',
                                                          _name='carregar_hemotransfusao_previa',
                                                          _value='F'),
                                                    'não',
                                                ),
                                            )
                                        )
                                    )
                                ),
                                DIV(_id='carregar_div_outros_dir',
                                    *TABLE(
                                        TR(
                                            TD(
                                                'Observações Gerais'
                                            )
                                        ),
                                        BR(),
                                        TR(
                                            TD(
                                                INPUT(_type="hidden", _id='carregar_hidden_obs_gerais', _name='carregar_hidden_obs_gerais', _value=dados.obs_gerais),
                                                TEXTAREA(_id='carregar_obs_gerais', _name='carregar_obs_gerais')
                                            )
                                        )
                                    )
                                ),
                                HR(),
                                'Medicamentos em uso:',
                                INPUT(_type='hidden', _id='carregar_hidden_medicamentos_em_uso', _name='carregar_hidden_medicamentos_em_uso', _value=dados.medicamentos_em_uso),
                                INPUT(_type='text', _id='carregar_medicamentos_em_uso', _name='carregar_medicamentos_em_uso', _value=dados.medicamentos_em_uso),
                                BR(),
                                'Alergias:',
                                INPUT(_type='hidden', _id='carregar_hidden_alergias', _name='carregar_hidden_alergias', _value=dados.alergias),
                                INPUT(_type='text', _id='carregar_alergias', _name='carregar_alergias', _value=dados.alergias),
                                BR(),
                                'Cirurgias Prévias / Antecedentes Anestésicos Pessoais e Familiares:',
                                INPUT(_type='hidden', _id='carregar_hidden_cirurgias_previas', _name='carregar_hidden_cirurgias_previas', _value=dados.cirurgias_previas),
                                INPUT(_type='text', _id='carregar_cirurgias_previas', _name='carregar_cirurgias_previas', _value=dados.cirurgias_previas),
                                HR(),
                                FIELDSET(
                                    LEGEND(_id='carregar_lgd_vias_aereas',
                                           *'VIAS AÉREAS')
                                ),
                                BR(),
                                DIV(_id='carregar_div_cavidade_oral',
                                    *FIELDSET(
                                        LEGEND(_id='carregar_lgd_cavidade_oral',
                                               *'CAVIDADE ORAL'),
                                        INPUT(_type='hidden', _id='carregar_hidden_mallampati', _name='carregar_hidden_mallampati', _value=dados.mallampati),
                                        'Mallampati: ',
                                        SELECT(
                                            OPTION('1', _value='MALLAPATI 1', _name='carregar_mallampati'),
                                            OPTION('2', _value='MALLAPATI 2', _name='carregar_mallampati'),
                                            OPTION('3', _value='MALLAPATI 3', _name='carregar_mallampati'),
                                            OPTION('4', _value='MALLAPATI 4', _name='carregar_mallampati')
                                        ),

                                        BR(),
                                        'Abertura de boca limitada: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_abertura_boca', _name='carregar_hidden_abertura_boca', _value=dados.abertura_boca),
                                        INPUT(_id='carregar_radio_aber_boca_sim',
                                              _type='radio',
                                              _name='carregar_abertura_boca',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_aber_boca_nao',
                                              _type='radio',
                                              _name='carregar_abertura_boca',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'Dentes Falhos: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_dentes_falhos', _name='carregar_hidden_dentes_falhos', _value=dados.dentes_falhos),
                                        INPUT(_id='carregar_radio_dentes_falhos_sim',
                                              _type='radio',
                                              _name='carregar_dentes_falhos',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_dentes_falhos_nao',
                                              _type='radio',
                                              _name='carregar_dentes_falhos',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'Prótese Sup. - Inf.: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_protese', _name='carregar_hidden_protese', _value=dados.protese),
                                        INPUT(_id='carregar_radio_protese_sim',
                                              _type='radio',
                                              _name='carregar_protese',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_protese_nao',
                                              _type='radio',
                                              _name='carregar_protese',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'Macroglossia: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_macroglossia', _name='carregar_hidden_macroglossia', _value=dados.macroglossia),
                                        INPUT(_id='carregar_radio_macroglossia_sim',
                                              _type='radio',
                                              _name='carregar_macroglossia',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_macroglossia_nao',
                                              _type='radio',
                                              _name='carregar_macroglossia',
                                              _value='F'),
                                        'não',
                                    )
                                ),
                                DIV(_id='carregar_div_pescoco',
                                    *FIELDSET(
                                        LEGEND(_id='carregar_lgd_pescoco',
                                               *'PESCOÇO'),
                                        'Distância Esterno-Mento: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_distancia_esterno_mento', _name='carregar_hidden_distancia_esterno_mento', _value=dados.distancia_esterno_mento),
                                        INPUT(_type='text', _id='carregar_dist_est_mento', _name='carregar_distancia_esterno_mento', _value=dados.distancia_esterno_mento),
                                        BR(),
                                        'Curto / Longo: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_pescoco_curto_longo', _name='carregar_hidden_pescoco_curto_longo', _value=dados.pescoco_curto_longo),
                                        INPUT(_type='text', _id='carregar_curto_longo', _name='carregar_pescoco_curto_longo', _value=dados.pescoco_curto_longo),
                                        BR(),
                                        'Mobilidade cervical diminuida: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_mobilidade_cervical', _name='carregar_hidden_mobilidade_cervical', _value=dados.mobilidade_cervical),
                                        INPUT(_type='text', _id='carregar_mob_cervical', _name='carregar_mobilidade_cervical', _value=dados.mobilidade_cervical),
                                        BR(),
                                        DIV(
                                            FIELDSET(
                                                'Massa cervical: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_massa_cervical', _name='carregar_hidden_massa_cervical', _value=dados.massa_cervical),
                                                INPUT(_id='carregar_radio_massa_cervical_sim',
                                                      _type='radio',
                                                      _name='carregar_massa_cervical',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_massa_cervical_nao',
                                                      _type='radio',
                                                      _name='carregar_massa_cervical',
                                                      _value='F'),
                                                'não',
                                            )
                                        ),
                                        BR(),
                                        DIV(
                                            FIELDSET(
                                                'Desvio de traquéia: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_desvio_traqueia', _name='carregar_hidden_desvio_traqueia', _value=dados.desvio_traqueia),
                                                INPUT(_id='carregar_radio_desvio_traqueia_sim',
                                                      _type='radio',
                                                      _name='carregar_desvio_traqueia',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_desvio_traqueia_nao',
                                                      _type='radio',
                                                      _name='carregar_desvio_traqueia',
                                                      _value='F'),
                                                'não',
                                            )
                                        ),
                                        BR(),
                                        'Distância Mento-Hióide: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_distancia_mento_hiloide', _name='carregar_hidden_distancia_mento_hiloide', _value=dados.distancia_mento_hiloide),
                                        INPUT(_type='text', _id='carregar_dist_mento_hioide', _name='carregar_distancia_mento_hiloide', _value=dados.distancia_mento_hiloide),
                                        BR(),
                                        'Circunferência cervical: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_circunferencia_cervical', _name='carregar_hidden_circunferencia_cervical', _value=dados.circunferencia_cervical),
                                        INPUT(_type='text', _id='carregar_circunferencia_cervical', _name='carregar_circunferencia_cervical', _value=dados.circunferencia_cervical),
                                    )
                                ),
                                DIV(_id='carregar_div_atencao',
                                    *FIELDSET(
                                        LEGEND(_id='carregar_lgd_atencao',
                                               *'ATENÇÃO'),
                                        'História Prévia Dificuldade de intubação: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_dificuldade_intubacao', _name='carregar_hidden_dificuldade_intubacao', _value=dados.dificuldade_intubacao),
                                        INPUT(_type='checkbox', _id='carregar_chk_hist', _name='carregar_dificuldade_intubacao', _value='T'),
                                        BR(),
                                        'Via aérea dificil: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_via_aerea_dificil', _name='carregar_hidden_via_aerea_dificil', _value=dados.via_aerea_dificil),
                                        INPUT(_type='checkbox', _id='carregar_chk_via_aerea_dif', _name='carregar_via_aerea_dificil', _value='T'),
                                        BR(),
                                        'História de anafilaxia: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_anafilaxia', _name='carregar_hidden_anafilaxia', _value=dados.historia_de_anafilaxia),
                                        INPUT(_type='checkbox', _id='carregar_anafilaxia', _name='carregar_anafilaxia', _value='T'),
                                        BR(),
                                        'Estômago Cheio: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_estomago_cheio', _name='carregar_hidden_estomago_cheio', _value=dados.estomago_cheio),
                                        INPUT(_type='checkbox', _id='carregar_chk_estomago_cheio', _name='carregar_estomago_cheio', _value='T'),
                                        BR(),
                                        'Repor. Corticóide: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_corticoide', _name='carregar_hidden_corticoide', _value=dados.corticoide),
                                        INPUT(_type='checkbox', _id='carregar_chk_corticoide', _name='carregar_corticoide', _value='T'),
                                        BR(),
                                        'Profilaxia Endocardite Bacteriana: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_endocardite', _name='carregar_hidden_endocardite', _value=dados.endocardite_bacteriana),
                                        INPUT(_type='checkbox', _id='carregar_profilaxia', _name='carregar_endocardite_bacteriana', _value='T'),
                                    )
                                ),
                                HR(),
                                DIV(_id='carregar_div_exames_laboratoriais',
                                    *FIELDSET(
                                        LEGEND(_id='carregar_lgd_exames_lab',
                                               *'EXAMES LABORATORIAS'),
                                        "HB: ",
                                        INPUT(_type='hidden', _id='carregar_hidden_hb', _name='carregar_hidden_hb', _value=dados.hb),
                                        INPUT(_type='text', _id='carregar_txt_hb', _name='carregar_hb', _value=dados.hb),
                                        "HT: ",
                                        INPUT(_type='hidden', _id='carregar_hidden_ht', _name='carregar_hidden_ht', _value=dados.ht),
                                        INPUT(_type='text', _id='carregar_txt_ht', _name='carregar_ht', _value=dados.ht),
                                        "HM: ",
                                        INPUT(_type='hidden', _id='carregar_hidden_hm', _name='carregar_hidden_hm', _value=dados.hm),
                                        INPUT(_type='text', _id='carregar_txt_hm', _name='carregar_hm', _value=dados.hm),
                                        "Plaq: ",
                                        INPUT(_type='hidden', _id='carregar_hidden_plaquetas', _name='carregar_hidden_plaquetas', _value=dados.plaquetas),
                                        INPUT(_type='text', _id='carregar_txt_plaq', _name='carregar_plaquetas', _value=dados.plaquetas),
                                        "Gli: ",
                                        INPUT(_type='hidden', _id='carregar_hidden_glicose', _name='carregar_hidden_glicose', _value=dados.glicose),
                                        INPUT(_type='text', _id='carregar_txt_gli', _name='carregar_glicose', _value=dados.glicose),
                                        BR(),
                                        "U: ",
                                        INPUT(_type='hidden', _id='carregar_hidden_u', _name='carregar_hidden_u', _value=dados.u),
                                        INPUT(_type='text', _id='carregar_txt_u', _name='carregar_u', _value=dados.u),
                                        "CR: ",
                                        INPUT(_type='hidden', _id='carregar_hidden_cr', _name='carregar_hidden_cr', _value=dados.cr),
                                        INPUT(_type='text', _id='carregar_txt_cr', _name='carregar_cr', _value=dados.cr),
                                        "NA+: ",
                                        INPUT(_type='hidden', _id='carregar_hidden_na', _name='carregar_hidden_na', _value=dados.na),
                                        INPUT(_type='text', _id='carregar_txt_na', _name='carregar_na', _value=dados.na),
                                        "K+: ",
                                        INPUT(_type='hidden', _id='carregar_hidden_k', _name='carregar_hidden_k', _value=dados.k),
                                        INPUT(_type='text', _id='carregar_txt_k', _name='carregar_k', _value=dados.k),
                                        )
                                ),
                                HR(),
                                DIV(_id='carregar_div_eventos_operatorios',
                                    *FIELDSET(
                                        LEGEND(_id='carregar_lgd_eventos_operatorios',
                                               *'EVENTOS OPERATÓRIOS'),
                                        'Duração do Procedimento: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_duracao_procedimento', _name='carregar_hidden_duracao_procedimento', _value=dados.duracao_procedimento),
                                        INPUT(_type='text', _id='carregar_txt_duracao_procedimento', _name='carregar_duracao_procedimento', _value=dados.duracao_procedimento),
                                        BR(),
                                        'Duração da Cirurgia: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_duracao_cirurgia', _name='carregar_hidden_duracao_cirurgia', _value=dados.duracao_cirurgia),
                                        INPUT(_type='text', _id='carregar_txt_duracao_cirurgia', _name='carregar_duracao_cirurgia', _value=dados.duracao_cirurgia),
                                        )
                                ),
                                BR(),
                                HR(),
                                DIV(_id='carregar_div_monitorizacao',
                                    *FIELDSET(
                                        LEGEND(_id='carregar_lgd_monitorizacao',
                                               *'MONITORIZAÇÃO'),
                                        'Cardioscópio: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_cardioscopio', _name='carregar_hidden_cardioscopio', _value=dados.cardioscopio),
                                        INPUT(_id='carregar_radio_cardioscopio_sim',
                                              _type='radio',
                                              _name='carregar_cardioscopio',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_cardioscopio_nao',
                                              _type='radio',
                                              _name='carregar_cardioscopio',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'Ox. Digital: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_ox_digital', _name='carregar_hidden_ox_digital', _value=dados.ox_digital),
                                        INPUT(_id='carregar_radio_ox_digital_sim',
                                              _type='radio',
                                              _name='carregar_ox_digital',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_ox_digital_nao',
                                              _type='radio',
                                              _name='carregar_ox_digital',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'PNI: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_pni', _name='carregar_hidden_pni', _value=dados.pni),
                                        INPUT(_id='carregar_radio_pni_sim',
                                              _type='radio',
                                              _name='carregar_pni',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_pni_nao',
                                              _type='radio',
                                              _name='carregar_pni',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'PAINV: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_painv', _name='carregar_hidden_painv', _value=dados.painv),
                                        INPUT(_id='carregar_radio_painv_sim',
                                              _type='radio',
                                              _name='carregar_painv',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_painv_nao',
                                              _type='radio',
                                              _name='carregar_painv',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'CAPNÓGRAFO: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_capnografo', _name='carregar_hidden_capnografo', _value=dados.capnografo),
                                        INPUT(_id='carregar_radio_capnografo_sim',
                                              _type='radio',
                                              _name='carregar_capnografo',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_capnografo_nao',
                                              _type='radio',
                                              _name='carregar_capnografo',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'An. Gases: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_an_gases', _name='carregar_hidden_an_gases', _value=dados.an_gases),
                                        INPUT(_id='carregar_radio_an_gases_sim',
                                              _type='radio',
                                              _name='carregar_an_gases',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_an_gases_nao',
                                              _type='radio',
                                              _name='carregar_an_gases',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'outros: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_outros_monitorizacao', _name='carregar_hidden_outros_monitorizacao', _value=dados.outros_monitorizacao),
                                        INPUT(_type='text', _id='carregar_outros_monitorizacao', _name='carregar_outros_monitorizacao', _value=dados.outros_monitorizacao)
                                    )
                                ),
                                DIV(_id='carregar_div_tecnica',
                                    *FIELDSET(
                                        LEGEND(_id='carregar_lgd_tecnica',
                                               *'TÉCNICA'),
                                        'Geral: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_tec_geral', _name='carregar_hidden_tec_geral', _value=dados.tec_geral),
                                        INPUT(_id='carregar_radio_tec_geral_sim',
                                              _type='radio',
                                              _name='carregar_tec_geral',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_tec_geral_nao',
                                              _type='radio',
                                              _name='carregar_tec_geral',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        INPUT(_type='hidden', _id='carregar_hidden_plexo', _name='carregar_hidden_plexo', _value=dados.plexo),
                                        'Bloqueio regional ou Plexo: ',
                                        INPUT(_id='carregar_radio_plexo_sim',
                                              _type='radio',
                                              _name='carregar_plexo',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_plexo_nao',
                                              _type='radio',
                                              _name='carregar_plexo',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        INPUT(_type='hidden', _id='carregar_hidden_neuroeixo', _name='carregar_hidden_neuroeixo', _value=dados.bloqueio_neuroeixo),
                                        'Bloqueio de Neuroeixo: ',
                                        INPUT(_id='carregar_radio_neuroeixo_sim',
                                              _type='radio',
                                              _name='carregar_bloqueio_neuroeixo',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_neuroeixo_nao',
                                              _type='radio',
                                              _name='carregar_bloqueio_neuroeixo',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'Combinada: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_combinada', _name='carregar_hidden_combinada', _value=dados.combinada),
                                        INPUT(_id='carregar_radio_combinada_sim',
                                              _type='radio',
                                              _name='carregar_combinada',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_combinada_nao',
                                              _type='radio',
                                              _name='carregar_combinada',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'Sedação: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_sedacao', _name='carregar_hidden_sedacao', _value=dados.sedacao),
                                        INPUT(_id='carregar_radio_sedacao_sim',
                                              _type='radio',
                                              _name='carregar_sedacao',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_sedacao_nao',
                                              _type='radio',
                                              _name='carregar_sedacao',
                                              _value='F'),
                                        'não',
                                        BR(),
                                    )

                                ),
                                DIV(_id='carregar_div_acesso_vias_aereas',
                                    *FIELDSET(
                                        LEGEND(_id='carregar_lgd_acesso_vias_aereas',
                                               *'ACESSO A VIA AÉREA'),
                                        'Sub Máscara: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_sub_mascara', _name='carregar_hidden_sub_mascara', _value=dados.sub_mascara),
                                        INPUT(_id='carregar_radio_sub_mascara_sim',
                                              _type='radio',
                                              _name='carregar_sub_mascara',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_sub_mascara_nao',
                                              _type='radio',
                                              _name='carregar_sub_mascara',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'Canula Naso: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_canula_naso', _name='carregar_hidden_canula_naso', _value=dados.canula_naso),
                                        INPUT(_id='carregar_radio_can_naso_sim',
                                              _type='radio',
                                              _name='carregar_canula_naso',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_can_naso_nao',
                                              _type='radio',
                                              _name='carregar_canula_naso',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'Canula Orofaringea: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_canula_orofaringea', _name='carregar_hidden_canula_orofaringea', _value=dados.canula_orofaringea),
                                        INPUT(_id='carregar_radio_can_orofaringea_sim',
                                              _type='radio',
                                              _name='carregar_canula_orofaringea',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_can_orofaringea_nao',
                                              _type='radio',
                                              _name='carregar_canula_orofaringea',
                                              _value='F'),
                                        'não',
                                        BR(),
                                        'Máscara Laríngea: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_mascara_laringea', _name='carregar_hidden_mascara_laringea', _value=dados.mascara_laringea),
                                        INPUT(_id='carregar_radio_masc_laringea_sim',
                                              _type='radio',
                                              _name='carregar_mascara_laringea',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_masc_laringea_nao',
                                              _type='radio',
                                              _name='carregar_mascara_laringea',
                                              _value='F'),
                                        'não',
                                        DIV(_id='carregar_div_masc_laringea',
                                            *FIELDSET(
                                                'NR:',
                                                INPUT(_type='hidden', _id='carregar_hidden_nr_mascara_laringea', _name='carregar_hidden_nr_mascara_laringea', _value=dados.nr_mascara_laringea),
                                                INPUT(_typr='text', _id='carregar_nr_masc_laringea', _name='carregar_nr_mascara_laringea', _value=dados.nr_mascara_laringea)
                                            )),
                                        BR(),
                                        'Intubação Oro Traqueal: ',
                                        INPUT(_type='hidden', _id='carregar_hidden_intubacao_oro_traqueal', _name='carregar_hidden_intubacao_oro_traqueal', _value=dados.intubacao_oro_traqueal),
                                        INPUT(_id='carregar_radio_int_oro_traqueal_sim',
                                              _type='radio',
                                              _name='carregar_intubacao_oro_traqueal',
                                              _value='T'),
                                        'sim',
                                        INPUT(_id='carregar_radio_int_oro_traqueal_nao',
                                              _type='radio',
                                              _name='carregar_intubacao_oro_traqueal',
                                              _value='F'),
                                        'não',
                                        DIV(_id='carregar_div_int_oro_traqueal',
                                            *FIELDSET(
                                                'Diâmetro do tubo: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_intubacao_oro_traqueal', _name='carregar_hidden_intubacao_oro_traqueal', _value=dados.diametro_tubo),
                                                INPUT(_typr='text', _id='carregar_diametro_tubo', _name='carregar_diametro_tubo'),
                                                BR(),
                                                'Tipo naso: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_tipo_naso', _name='carregar_hidden_tipo_naso', _value=dados.tipo_naso),
                                                INPUT(_id='carregar_radio_tipo_naso_sim',
                                                      _type='radio',
                                                      _name='carregar_tipo_naso',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_tipo_naso_nao',
                                                      _type='radio',
                                                      _name='carregar_tipo_naso',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Tipo aramado: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_tipo_aramado', _name='carregar_hidden_tipo_aramado', _value=dados.tipo_aramado),
                                                INPUT(_id='carregar_radio_tipo_aramado_sim',
                                                      _type='radio',
                                                      _name='carregar_tipo_aramado',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_tipo_aramado_nao',
                                                      _type='radio',
                                                      _name='carregar_tipo_aramado',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Tipo dupla luz: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_dupla_luz', _name='carregar_hidden_dupla_luz', _value=dados.dupla_luz),
                                                INPUT(_id='carregar_radio_tipo_dupla_luz_sim',
                                                      _type='radio',
                                                      _name='carregar_dupla_luz',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_tipo_dupla_luz_nao',
                                                      _type='radio',
                                                      _name='carregar_dupla_luz',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Tipo balao: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_balao', _name='carregar_hidden_balao', _value=dados.balao),
                                                INPUT(_id='carregar_radio_balao_sim',
                                                      _type='radio',
                                                      _name='carregar_balao',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_balao_nao',
                                                      _type='radio',
                                                      _name='carregar_balao',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Laringoscopia: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_laringoscopia', _name='carregar_hidden_laringoscopia', _value=dados.laringoscopia),
                                                INPUT(_id='carregar_radio_laringoscopia_sim',
                                                      _type='radio',
                                                      _name='carregar_laringoscopia',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_laringoscopia_nao',
                                                      _type='radio',
                                                      _name='carregar_laringoscopia',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Broncofibroscopia: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_broncofibroscopia', _name='carregar_hidden_broncofibroscopia', _value=dados.broncofibroscopia),
                                                INPUT(_id='carregar_radio_broncofibroscopia_sim',
                                                      _type='radio',
                                                      _name='carregar_broncofibroscopia',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_broncofibroscopia_nao',
                                                      _type='radio',
                                                      _name='carregar_broncofibroscopia',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Estilete luminoso: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_estilete_luminoso', _name='carregar_hidden_estilete_luminoso', _value=dados.estilete_luminoso),
                                                INPUT(_id='carregar_radio_est_luminoso_sim',
                                                      _type='radio',
                                                      _name='carregar_estilete_luminoso',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_est_luminoso_nao',
                                                      _type='radio',
                                                      _name='carregar_estilete_luminoso',
                                                      _value='F'),
                                                'não',
                                                BR(),
                                                'Videolaringoscopia: ',
                                                INPUT(_type='hidden', _id='carregar_hidden_videolaringoscopia', _name='carregar_hidden_videolaringoscopia', _value=dados.videolaringoscopia),
                                                INPUT(_id='carregar_radio_videolaringoscopia_sim',
                                                      _type='radio',
                                                      _name='carregar_videolaringoscopia',
                                                      _value='T'),
                                                'sim',
                                                INPUT(_id='carregar_radio_videolaringoscopia_nao',
                                                      _type='radio',
                                                      _name='carregar_videolaringoscopia',
                                                      _value='F'),
                                                'não',
                                            )
                                        ),
                                        BR(),
                                    )
                                ),
                                HR(),
                                BR(),
                                DIV(_id='carregar_div_agentes',
                                    *FIELDSET(
                                        LEGEND(_id='carregar_lgd_agentes',
                                               *'Agentes'),
                                        DIV('Nome: ',
                                            INPUT(_type='hidden', _id='carregar_agente1_controle', _name='carregar_agente1_controle', _value=dados.agente1),
                                            INPUT(_type='text', _id='carregar_agente1', _name='carregar_agente1', _value=dados.agente1),
                                            INPUT(_type='button', _id='carregar_btn_inclui_agente1', _name='carregar_btn_inclui_agente1', _value= '+', _onclick='chama_segundo()'),
                                            _id='div_primero_agente'
                                        ),
                                        DIV('Nome: ',
                                            INPUT(_type='text', _id='carregar_agente2', _name='carregar_agente2', _value=dados.agente2),
                                            INPUT(_type='hidden', _id='carregar_agente2_controle', _name='carregar_agente2_controle', _value=dados.agente2),
                                            INPUT(_type='button', _id='carregar_btn_esconder_agente2', _name='carregar_btn_esconder_agente2', _value='-', _onclick= 'esconde_segundo()'),
                                            INPUT(_type='button', _id='carregar_btn_inclui_agente2', _name='carregar_btn_inclui_agente2', _value='+', _onclick= 'chama_terceiro()'),
                                            _id='div_segundo_agente'
                                        ),
                                        DIV('Nome: ',
                                            INPUT(_type='text', _id='carregar_agente3', _name='carregar_agente3', _value=dados.agente3),
                                            INPUT(_type='hidden', _id='carregar_agente3_controle', _name='carregar_agente3_controle', _value=dados.agente3),
                                            INPUT(_type='button', _id='carregar_btn_esconder_agente3', _name='carregar_btn_esconder_agente3', _value='-', _onclick='esconde_terceiro()'),
                                            INPUT(_type='button', _id='carregar_btn_inclui_agente3', _name='carregar_btn_inclui_agente3', _value='+', _onclick='chama_quarto()'),
                                            _id='div_terceiro_agente'
                                        ),
                                        DIV('Nome: ',
                                            INPUT(_type='text', _id='carregar_agente4', _name='carregar_agente4', _value=dados.agente4),
                                            INPUT(_type='hidden', _id='carregar_agente4_controle', _name='carregar_agente4_controle', _value=dados.agente4),
                                            INPUT(_type='button', _id='carregar_btn_esconder_agente4', _name='carregar_btn_esconder_agente4', _value='-', _onclick='esconde_quarto()'),
                                            INPUT(_type='button', _id='carregar_btn_inclui_agente4', _name='carregar_btn_inclui_agente4', _value='+', _onclick='chama_quinto()'),
                                            _id='div_quarto_agente'),
                                        DIV('Nome: ',
                                            INPUT(_type='text', _id='carregar_agente5', _name='carregar_agente5', _value=dados.agente5),
                                            INPUT(_type='hidden', _id='carregar_agente5_controle', _name='carregar_agente5_controle', _value=dados.agente5),
                                            INPUT(_type='button', _id='carregar_btn_esconder_agente5', _name='carregar_btn_esconder_agente5', _value='-', _onclick='esconde_quinto()'),
                                            INPUT(_type='button', _id='carregar_btn_inclui_agente5', _name='carregar_btn_inclui_agente5', _value='+', _onclick='chama_sexto()'),
                                            _id='div_quinto_agente'
                                        ),
                                        DIV('Nome: ',
                                            INPUT(_type='text', _id='carregar_agente6', _name='carregar_agente6', _value=dados.agente6),
                                            INPUT(_type='hidden', _id='carregar_agente6_controle', _name='carregar_agente6_controle', _value=dados.agente6),
                                            INPUT(_type='button', _id='carregar_btn_esconder_agente6', _name='carregar_btn_esconder_agente6', _value='-', _onclick='esconde_sexto()'),
                                            INPUT(_type='button', _id='carregar_btn_inclui_agente6', _name='carregar_btn_inclui_agente6', _value='+', _onclick='chama_setimo()'),
                                            _id='div_sexto_agente'
                                        ),
                                        DIV('Nome: ',
                                            INPUT(_type='text', _id='carregar_agente7', _name='carregar_agente7', _value=dados.agente7),
                                            INPUT(_type='hidden', _id='carregar_agente7_controle', _name='carregar_agente7_controle', _value=dados.agente7),
                                            INPUT(_type='button', _id='carregar_btn_esconder_agente7', _name='carregar_btn_esconder_agente7', _value='-', _onclick='esconde_setimo()'),
                                            INPUT(_type='button', _id='carregar_btn_inclui_agente7', _name='carregar_btn_inclui_agente7', _value='+', _onclick='chama_oitavo()'),
                                            _id='div_setimo_agente'
                                        ),
                                        DIV('Nome: ',
                                            INPUT(_type='text', _id='carregar_agente8', _name='carregar_agente8', _value=dados.agente8),
                                            INPUT(_type='hidden', _id='carregar_agente8_controle', _name='carregar_agente8_controle', _value=dados.agente8),
                                            INPUT(_type='button', _id='carregar_btn_esconder_agente8', _name='carregar_btn_esconder_agente8', _value='-', _onclick='esconde_oitavo()'),
                                            INPUT(_type='button', _id='carregar_btn_inclui_agente8', _name='carregar_btn_inclui_agente8', _value='+', _onclick='chama_nono()'),
                                            _id='div_oitavo_agente'
                                        ),
                                        DIV('Nome: ',
                                            INPUT(_type='text', _id='carregar_agente9', _name='carregar_agente9', _value=dados.agente9),
                                            INPUT(_type='hidden', _id='carregar_agente9_controle', _name='carregar_agente9_controle', _value=dados.agente9),
                                            INPUT(_type='button', _id='carregar_btn_esconder_agente9', _name='carregar_btn_esconder_agente9', _value='-', _onclick='esconde_nono()'),
                                            INPUT(_type='button', _id='carregar_btn_inclui_agente9', _name='carregar_btn_inclui_agente9', _value='+', _onclick='chama_decimo()'),
                                            _id='div_nono_agente'
                                        ),
                                        DIV('Nome: ',
                                            INPUT(_type='text', _id='carregar_agente10', _name='carregar_agente10', _value=dados.agente10),
                                            INPUT(_type='hidden', _id='carregar_agente10_controle', _name='carregar_agente10_controle', _value=dados.agente10),
                                            INPUT(_type='button', _id='carregar_btn_esconder_agente10', _name='carregar_btn_inclui_agente10', _value='-', _onclick='esconde_decimo()'),
                                            _id='div_decimo_agente'
                                        ),
                                    )),
                                BR(),
                                HR(),
                                FIELDSET(
                                    LEGEND(_id='carregar_lgd_dados_cirurgia',
                                           *'DADOS CIRURGIA'),
                                    'Cirurgia: ',
                                    INPUT(_type='hidden', _id='carregar_hidden_cirurgia', _name='carregar_hidden_cirurgia', _value=dados.cirurgia),
                                    INPUT(_type='text', _id='carregar_cirurgia', _name='carregar_cirurgia', _value=dados.cirurgia),
                                    BR(),
                                    'Anestesista: ',
                                    INPUT(_type='hidden', _id='carregar_hidden_anestesia', _name='carregar_hidden_anestesia', _value=dados.anestesia),
                                    INPUT(_type='text', _id='carregar_anestesia', _name='carregar_anestesia', _value=dados.anestesia),
                                    BR(),
                                    'Cirurgião: ',
                                    INPUT(_type='hidden', _id='carregar_hidden_cirurgiao', _name='carregar_hidden_cirurgiao', _value=dados.cirurgiao),
                                    INPUT(_type='text', _id='carregar_cirurgiao', _name='carregar_cirurgiao', _value=dados.cirurgiao),
                                ),
                                BR(),
                                HR(),
                                INPUT(_type='button', _id='btn_confirmar_alteracao', _name='btn_confirmar_alteracao', _value='Confirmar Alteração'),
                                INPUT(_type='button', _id='btn_cancelar_alteracao', _name='btn_cancelar_alteracao', _value='Cancelar Alteração', _onclick='fn_fechar_div_alteracao()'),
                            )

                        )
                    )
                )
            )
        )
        return campos

def altera_dados():
    query = db(db.paciente.id == request.vars.id).select()
    for dados in query:
        dados_alterados = 1;
    return dados_alterados


def index():
    myconsulta = ''
    linhas = ''
    dados = ''
    qtd_linhas = 0
    busca = gerar_campos_busca()

    campo_h = request.vars.campo_hidden_escolha_busca
    if busca.accepts(request, session):
        if request.vars.campo_hidden_escolha_busca == "1":
            linhas = consulta_nome(request.vars.nome_busca)
            qtd_linhas = conta_consulta(request.vars.nome_busca, 1)
        elif request.vars.campo_hidden_escolha_busca == "2":
            linhas = consulta_registro(request.vars.nr_registro_busca)
            qtd_linhas = conta_consulta(request.vars.nr_registro_busca, 2)

    return dict(busca=busca, linhas=linhas, nr_linhas=qtd_linhas)
